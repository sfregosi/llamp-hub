{
  "articles": [
    {
      "path": "analysis.html",
      "title": "Protocol - Analysis",
      "description": "Detailed instructions for post-processing and acoustic analyses of longline HARP data\n",
      "author": [],
      "contents": "\n\nContents\nPost-processing\nCreate GitHub issue\nDetailed data-checking instructions\nMetadata and data checks\nProcess trip\nFinal checks\n\n\nAcoustic analyses\nCreate GitHub issue\nOdontocetes\nNoise\nIn-Air\n\nPast protocols\nLast updated\n\n\n\n\n\nPost-processing\nFirst there is a set of tasks that are sort of post-processing/pre-analysis - where data are checked and metadata updated.\nCreate GitHub issue\nCreate a new post-processing issue for the latest trip\nNavigate to the llamp repository’s New Issue page and press the green Get Started button for the Post-processing template\nUpdate the newly created issue name with the correct trip number, add any assignees, and add to the Longline Acoustic Monitoring Project\n\n\n\n\nFigure 1: Screenshot showing the new issue template selection page on GitHub\n\n\n\nDetailed data-checking instructions\n[moving this here from processing steps!]\nMetadata and data checks\nAdd trip to phase_3_multi_deployments_summary.xlsx on 5 tabs\nDataSummary_UW: add 5 rows following format of previous trips with trip number in column A, vessel name and frame/datalogger numbers in column B, and the date for each deployed set (1 up to 8) in columns C to J). Note any problems or inconsistencies for each recorder in the ‘notes’ column\nDataSummary_IA: added 7 rows, copying the ‘Status’ and ‘Location’ column values from an earlier trip\nDepredation: provide a summary of the trip dates and Y or N for depredation with notes on specifically which sets, if any, had bait or catch depredation\nProcessingStatus: add a row for each recorder deployed and use this track steps as they are completed for each recorder + any notes on issues\nAnalysisStatus: add a row for each recorder and track analysis steps (below) here\nBouts: not used for now. Current data is from Phase I and II analyses and is just left there as a placeholder\n\nCreate README_LL0##.txt file on server (//PICQUEENFISH/PSD2/CRP/LLHARP) within the folder for this trip. This README will house any notes about data issues/trip inconsistencies while working through post-processing and analysis steps\nCheck observer datasheets for readability and combine if needed (if photographed rather than scanned)\nIn Adobe Acrobat Pro: File > Create > Combine Files into a Single PDF…\nDrag or select all photo files\nUse the Scan & OCR tools to ‘Enhance’ each page\nAfter selecting Scan & OCR on the right hand tools menu, click Enhance > Camera Image from the top tools menu\nPage borders will appear. Adjust the extent of the page borders to include the whole page and exclude any background and click Enhance Page\nThe default enhance level usually obscures some of the entries so reduce the enhancement level using the Adjust enhancement level slider until it is readable\nClick on the next thumbnail to repeat for the next page\n\nSave within the trip’s server folder with the filename LL0##_observer_sheets_photos.pdf\n\nTranscribe underwater and in-air datasheets to .xlsx\nUse the blank template found on SF’s local machine at C:\\Users\\Selene.Fregosi\\Documents\\longline_local\\tripExcelSummaries\\\nLL000_Summary_phase3_template.xlsx or in the llamp repository at LL000_Summary_phase3template.xlsx\nSave the template as LL0##_Summary.xlsx within this trip’s server folder\nFill in observer noted set/haul/recorder deployment times in the Summary tab\nFill in observer noted in-air recording times and filenames in the In-air tab\nUpdated the 4 RecorderTimes_FR## tabs with the correct frame numbers\n\nReview underwater data LTSA in Triton\nMark actual recorder in/out times from the acoustics and record the in/out times in the RecorderTimes tab(s) of LL0##_summary.xlsx created above\nUse one tab per recorder/LTSA\nRecordings are in UTC, so note in/out times in UTC and subtract 10 hours to also convert to local time for comparison to observer noted times\n\nNote data availability and quality in the DataSummary_UW tab of phase_3_multi_deployments_summary.xlsx\nFill green for audio, red for no audio\nNote the recorder deployment order (1-4) for each set\nMake comments for any irregularities found such as noise, on deck recordings (recorder did not automatically turn off after recovery), data gaps, etc.\nReport any problems with noise or missing data to the LLHARP hardware manager (likely Erik Norris)\n\n\nReview in-air data in Raven (or other?)\nLoad all files for a single recorder (e.g. Z03 or Z04) by selecting all files and dragging into the Raven window\nSelect Page files and set page length to 120 or 180 seconds\nEach file is separated by a green dashed line; can move through files with black arrow at top right or by selecting the file number from the dropdown\n\nConfirm file numbers, durations, and voice comments align with what is on the datasheet and transcribed to L0##_summary.xlsx\nNote data availability and quality in the DataSummary_IA tab of phase_3_multi_deployments_summary.xlsx\nFill green for audio, red for no audio\nSpecify the file number for each set and recording sample\nNote any irregularities such as missing data or incorrect timing\n\n\nBack to top\nProcess trip\nRun workflow_processTrip.m to work through converting the summary docs to .mat, running some log checks, and splitting up .xwavs that span multiple sets.\nSet trip information in top section (unnumbered) of workflow_processTrip.m\nTrip number trip = on line 41\nFrames to process (default is frToProcess = 'all'; on line 43\nPaths on lines 46 to 62\n\nRun section (1) to convert LL0##_Summary.xlsx times and locations to a .mat file\nCheck for timing inconsistencies as prompted\nCheck any location inconsistencies from the generated plot\nNote any issues and try to fix discrepancies where possible, noting these issues or corrections in the README\n\nRun section (2) to manually enter the frame and datalogger numbers when prompted\nThe format should be FR##_DL## (e.g., FR04_DL64)\nHit Enter after each entry, and Enter again after all are entered to exit input state\n\nRun section (3) to summarize the recording durations, from the observer noted times and the acoustic record\nManually check durations for any large discrepancies between the acoustic record and observer log\nIf corrections are needed, make these corrections and note them in the README\n\nRun section (4) to work through the xwavs that span across sets and split the files as needed to preserve recording timing information for later analysis\nThis section will pause after calculating the number of file gaps. Manually compare this number to the observations in the manually marked recorder in/out times and if they match, hit Enter to continue\nThis section will take some time and will save ‘original’ xwavs before writing new, split xwavs\nUpdate the README with info on the number of original xwavs, gaps, and deck test or on deck recordings and any other relevent notes\n\nOptional, run section (5) to plot the drifts again and TDR data, for reporting purposes. Section 5 is under development\nBack to top\nFinal checks\nAfter workflow_processTrip.m, finalize the created ltsas and summary docs.\nIf xwavs were split, remake the LTSA in Triton\nUse a 5 sec/100 Hz resolution for odontocete analysis\nName the LTSA LL0##_FR##_DL##_5s_100Hz_splitFiles.ltsa and save within the xwavs folder\n\nMake a finer resolution LTSA for noise analysis\nUse a 2 sec/10 Hz resolution\nName the file LL0##_FR##_DL##_2s_10Hz.ltsa and save within the xwavs folder\n\nFinalize the README and phase_3_multi_deployments_summary.xslx by ensuring all inconsitencies are noted, and data checks completed, and all processing steps are done\nBack to top\nAcoustic analyses\nCreate GitHub issue\nCreate a new issue to add this task to the Longline Acoustic Monitoring Project\nNavigate to the llamp repository’s New Issue page and press the green Get Started button for the Analysis template\nUpdate the created issue name with the correct trip number, add any assignees, and add to the Longline Acoustic Monitoring Project\n\n\n\n\nFigure 2: Screenshot showing the new issue template selection page on GitHub\n\n\n\nOdontocetes\nManually scan LTSAs to define start/end time of odontocete acoustic events\nin Triton\nnote potential species ID as possible\nEither omit or separately log sperm whale events\n\nRun Pamguard detector suite - click, whistle, burst pulse\nuse PAM2016_LLHARP_BANTER.psfx\nFor speed, the detectors can be run only over files with known odontocete events by hand selecting just the files of interest\n\nExtract features of click, whistle, and burst pulse detections in PAMpal\nList the code here…\n\nUse banter to predict species label\nSpecify the model and code scripts here\n\nNoise\nRun Pamguard detector using PAM2016_LLHARP_noise.psfx\nManually scan LTSAs to define start/end time of gear noise\nRun TOL noise detectors (option to use SanctSound metrics or PG noise module)\nUpdate list of vessels with gear noise detected\nIn-Air\nUnder development\n- Review Zoom recordings to characterize sound\nBack to top\nPast protocols\nLLHARP Part III - Data Analysis Google DocLast updated 24 March 2017\n- Manual scanning of LTSAs in Triton to find bouts, whistle classification using Raven to generate manual whistle picks plus ROCCA to trace and classify, and click detection and classification using a a set of Matlab tools (appears to be Triton-based but not sure on specific versions)\n- This is the approach used in Bayless et al. 2017\nBack to top\nLast updated\n 08 February 2023\n\n\n\n",
      "last_modified": "2023-02-08T00:42:06+00:00"
    },
    {
      "path": "disclaimer.html",
      "title": "disclaimer",
      "author": [],
      "contents": "\n\n\n\n\n\n\n\n\n\n\nLongline Acoustic Monitoring Project Hub\n\n\nHome\n\n\nProtocols\n \n▾\n\n\nVessel facilitation\nHardware\nData processing\nAnalysis\nReporting\n\n\n\n\nOther\n \n▾\n\n\nSummary\nDrive docs\n\n\n\n\n\n☰\n\n\n  \n    \n      \n        \n        \n        \n      \n      \n    \n    \n      \n  Home\n\n\n  \n    Protocols\n     \n    \n  \n  \n      Vessel facilitation\n    \n    \n      Hardware\n    \n    \n      Data processing\n    \n    \n      Analysis\n    \n    \n      Reporting\n    \n  \n\n  \n    Other\n     \n    \n  \n  \n      Summary\n    \n    \n      Drive docs\n    \n  \n\n  \n    \n     \n  \n\n      \n  \n\n\n\n\n\n\ndisclaimer\n\n\n\n\n\nDisclaimer\n“The United States Department of Commerce (DOC) GitHub project code\nis provided on an ‘as is’ basis and the user assumes responsibility for\nits use. DOC has relinquished control of the information and no longer\nhas responsibility to protect the integrity, confidentiality, or\navailability of the information. Any claims against the Department of\nCommerce stemming from the use of its GitHub project will be governed by\nall applicable Federal law. Any reference to specific commercial\nproducts, processes, or services by service mark, trademark,\nmanufacturer, or otherwise, does not constitute or imply their\nendorsement, recommendation or favoring by the Department of Commerce.\nThe Department of Commerce seal and logo, or the seal and logo of a DOC\nbureau, shall not be used in any manner to imply endorsement of any\ncommercial product or activity by DOC or the United States\nGovernment.”\n\n\n\n\n\n\n\n\n\n\n\n",
      "last_modified": "2023-02-08T00:42:08+00:00"
    },
    {
      "path": "drive-links.html",
      "title": "Google Drive Links",
      "description": "A slightly more organized way to get to various docs saved in Google Drive\n",
      "author": [],
      "contents": "\n\nContents\nMetadata\nVessel recruitment\nHardware\nData processing\nAnalysis\nReporting\nLast Updated\n\nMost (all?) of these live in various folders within the LLHARP Master Google Drive folder.\nProject Management: Google Doc with outline of all project steps/components and who is in charge of what. This is somewhat outdated as of January 2023, and is meant to be replaced by this hub!\nMetadata\nLLHARP Data Summary: Metadata for every trip including hardware and software versions, data size and records of data uploads, and notes on issues or concerns. This document does contain vessel names and trip dates so access is restricted to those it has been shared with through GDrive.\nLongline HARP Deployments:\nRecord of trip numbers, vessels, and captain/owner/observer contact information. This contains vessel names, trip dates, and personal info so it is restricted to only being shared within our group.\nVessel recruitment\nConfirmed Vessel List: This contains vessel names and contact information for owners and captains that have volunteered or have previously taken gear. This contains personal info for the vessels and so has restricted access to only those it has been shared with.\nHardware\nLLHARP Tracker 2.0: Spreadsheet to keep track of gear status (hydrophones, cases, etc). This doc is shared with SIO.\nTDR_CRP_Usage: Spreadsheet to track status of TDRs and record of deployments; this doc is also used for DASBRs.\nZoom Recorder Tracker: Spreadsheet to track status/location of Zoom recorders.\nInstructions for Deployment Set-Up and Recovery: This is a very thorough protocol document that can be eventually converted to Rmd. Last updated 13 August 2021\nold protocol LLHARP Part I - Setup, Deploy, Recover.doc: Older protocol, last updated 17 March 2017\nData processing\nold protocol LLHARP Part II - Data Processing Google Doc 9 August 2022\nAnalysis\nAll Pamguard preferences files, etc have been moved to GitHub, to the private llamp repository. Create an issue to request access.\nReporting\nHARP Noise of Interest Captain Feedback Log: Some older notes on ideas of what the noise might be, collected by Colby at Protected Species trainings.\nLast Updated\n 08 February 2023\n\n\n\n",
      "last_modified": "2023-02-08T00:42:09+00:00"
    },
    {
      "path": "hardware.html",
      "title": "Protocol - Hardware",
      "description": "All protocols and resources related to hardware live here\n",
      "author": [],
      "contents": "\n\nContents\nInventory tracking\nSetup - before deployment\nBreakdown - after recovery\nExisting protocol can be found here:\nLast Updated\n\nInventory tracking\nLLHARP Tracker 2.0\nMulti-tabbed Google Sheets workbook to inventory for all individual LLHARP parts as well as assembled systems that are either ready for deployment or are currently deployed\nThe three main ‘swappable’ components each have their own tab: frames, dataloggers, and hydrophones\nEach tab has a Location and a Status column that can be used to indiciate if the part is in house at IRC or is at SIO for repair, and if the part is currently deployed, ready to go, or is awaiting repairs. Additional notes on issues and needed repairs can be made for each part\nTDR_CRP_Usage\n- Track status of TDRs. This is for all of CRP. Ok to continue to live here!\nZoom Recorder Tracker\nLLHARP tracker Google Sheet original version shared with SIO for keeping track of gear status\nk\nBack to top\nSetup - before deployment\nProgram and assemble LLHARPs\nAmazingly thorough (and fun!) Instructions for Deployment Set-Up and Recovery by Y. Barkley Last updated 13 August 2021\nCurrent version of the LLHARP manual here.\n\nProgram and attach TDRs\nFill out TDR usage sheet with start time and sampling schedule\n\nFill out deployment check sheet for each instrument assembled\nPrep in-air recorders (See In-air Recorder Prep doc)\nPre-deployment section: new batteries, wipe and install SD cards, tape up safely, pack attaché\nUpdate Zoom Recorder Tracker\n\nCreate empty folder on server in \\\\PICQUEENFISH\\PSD2\\CRP\\LLHARP\\ for this trip by making a copy of the LL999 Template - Make a Copy! folder\nBreakdown - after recovery\nInitial data check\nTDR stop and offload\nUpload data to the the server (\\\\PICQUEENFISH\\PSD2\\CRP\\LLHARP\\LL0##\\); TDR data files go in the DL##-TDR## folder within each of the FR##_DL## folders\nFill out TDR usage sheet for stop time\n\nCopy raw HRP data to server (\\\\PICQUEENFISH\\PSD2\\CRP\\LLHARP\\LL0##\\); each HRP goes in the HRP folder within each of the FR##_DL## folders\nBreakdown in-air recorders (See In-air Recorder Prep doc)\nPost-deployment section: open up, offload data, update tracking sheets\n\nScan deployment and recovery check sheets and upload to trip folder on the server, named LL0## metadata sheets.pdf\nScan observer datasheets and upload to trip folder on the server, named LL0##_observer_sheets_scanned.pdf\nThe scanner seems to automatically ‘enhance’ the sheets which makes soe of them unreadable\nIf the scans are not readable, take photos of the each observer datasheet and place the raw photos in the Observer Sheet Photos folder within the main LLHARP folder for further processing\nRelevant doc: Unreadable bits to check\n\nExisting protocol can be found here:\nprep and offload\nAmazingly thorough (and fun!) Instructions for Deployment Set-Up and Recovery Google Doc by Y. Barkley 13 August 2021\nLLHARP Part I - Setup, Deploy, Recover.doc Google Doc 17 March 2017\nBack to top\nLast Updated\n 08 February 2023\n\n\n\n",
      "last_modified": "2023-02-08T00:42:10+00:00"
    },
    {
      "path": "index.html",
      "title": "Longline Acoustic Monitoring Project",
      "author": [],
      "contents": "\n\n          \n          \n          \n          \n          Longline Acoustic Monitoring Project Hub\n          \n          \n          Home\n          \n          \n          Protocols\n           \n          ▾\n          \n          \n          Vessel facilitation\n          Hardware\n          Data processing\n          Analysis\n          Reporting\n          \n          \n          \n          \n          Other\n           \n          ▾\n          \n          \n          Summary\n          Drive docs\n          \n          \n          \n          \n          \n          ☰\n          \n          \n      \n        \n          \n            \n              \n            \n              Longline Acoustic Monitoring Project\n            \n            \n              \n                \n            \n          \n        \n        \n        \n          \n            \n            About this site\n            This repo is Longline Acoustic Monitoring Project Hub - a\n            central location for documentation and guides to data\n            organization.\n            The web address for this repository is: sfregosi.github.io/llamp-hub\n            This repository and site are public, but a more\n            extensive private llamp\n            repository contains additional code and analyses.\n            \n            Site Contents\n            Summary -\n            High level summary of work conducted so far\n            Protocols - Top left menu to detailed\n            protocols for specific components/steps of the project:\n            vessel recruitment, hardware, data processing, analysis, and\n            reporting.\n            Drive\n            docs - links and descriptions of important docs\n            and sheets on Google Drive. Access to individual links is\n            restricted based on Google Drive sharing settings.\n            \n            \n            \n            \n            About this project\n            The Longline Acoustic Monitoring Project (recently dubbed\n            LLAMP) is a collaborative project between NOAA NMFS PIFSC\n            and the Hawaiian longline fleet to better understand how and\n            why false killer whales interact with the fishery, and try\n            to reduce these interactions.\n            This project has been going on for many years and\n            involves many wonderful people!\n            \n            DISCLAIMER:\n            The scientific results and conclusions, as well as\n            any views or opinions expressed herein, are those of the\n            author(s) and do not necessarily reflect the views of NOAA\n            or the Department of Commerce.\n             This repository is a scientific product and is not\n            official communication of the National Oceanic and\n            Atmospheric Administration, or the United States Department\n            of Commerce. All NOAA GitHub project code is provided on an\n            ‘as is’ basis and the user assumes responsibility for its\n            use. Any claims against the Department of Commerce or\n            Department of Commerce bureaus stemming from the use of this\n            GitHub project will be governed by all applicable Federal\n            law. Any reference to specific commercial products,\n            processes, or services by service mark, trademark,\n            manufacturer, or otherwise, does not constitute or imply\n            their endorsement, recommendation or favoring by the\n            Department of Commerce. The Department of Commerce seal and\n            logo, or the seal and logo of a DOC bureau, shall not be\n            used in any manner to imply endorsement of any commercial\n            product or activity by DOC or the United States Government.\n            \n            Last Update: 08 Feb 2023\n            \n            \n          \n        \n      \n    \n\n    \n      \n        \n          \n            \n              \n            \n              Longline Acoustic Monitoring Project\n            \n            \n              \n                \n                                  \n              \n            \n            \n              \n              About this site\n              This repo is Longline Acoustic Monitoring Project Hub -\n              a central location for documentation and guides to data\n              organization.\n              The web address for this repository is: sfregosi.github.io/llamp-hub\n              This repository and site are public, but a\n              more extensive private llamp\n              repository contains additional code and analyses.\n              \n              Site Contents\n              Summary -\n              High level summary of work conducted so far\n              Protocols - Top left menu to detailed\n              protocols for specific components/steps of the project:\n              vessel recruitment, hardware, data processing, analysis,\n              and reporting.\n              Drive\n              docs - links and descriptions of important\n              docs and sheets on Google Drive. Access to individual\n              links is restricted based on Google Drive sharing\n              settings.\n              \n              \n              \n              \n              About this project\n              The Longline Acoustic Monitoring Project (recently\n              dubbed LLAMP) is a collaborative project between NOAA NMFS\n              PIFSC and the Hawaiian longline fleet to better understand\n              how and why false killer whales interact with the fishery,\n              and try to reduce these interactions.\n              This project has been going on for many years and\n              involves many wonderful people!\n              \n              DISCLAIMER:\n              The scientific results and conclusions, as well as\n              any views or opinions expressed herein, are those of the\n              author(s) and do not necessarily reflect the views of NOAA\n              or the Department of Commerce.\n               This repository is a scientific product and is\n              not official communication of the National Oceanic and\n              Atmospheric Administration, or the United States\n              Department of Commerce. All NOAA GitHub project code is\n              provided on an ‘as is’ basis and the user assumes\n              responsibility for its use. Any claims against the\n              Department of Commerce or Department of Commerce bureaus\n              stemming from the use of this GitHub project will be\n              governed by all applicable Federal law. Any reference to\n              specific commercial products, processes, or services by\n              service mark, trademark, manufacturer, or otherwise, does\n              not constitute or imply their endorsement, recommendation\n              or favoring by the Department of Commerce. The Department\n              of Commerce seal and logo, or the seal and logo of a DOC\n              bureau, shall not be used in any manner to imply\n              endorsement of any commercial product or activity by DOC\n              or the United States Government. \n              Last Update: 08 Feb 2023\n              \n              \n            \n        \n      \n    \n\n    \n    \n    ",
      "last_modified": "2023-02-08T00:42:13+00:00"
    },
    {
      "path": "processing.html",
      "title": "Protocol - Data Processing",
      "description": "Details on data processing steps following recorder recovery\n",
      "author": [],
      "contents": "\n\nContents\nCreate GitHub Issue\nDetailed data processing steps\nUpdate metadata\nImage HRP\nProcess HRP - 2020 processing code\nProcess HRP - 2022 processing code\nBackground details\nSet up the processing machine\nHRPproc menu options\nHRP File Tools\nProcessing Tools\nHRP Debug Tools\n\n\nUpload data\n\nPrevious/existing documentation\nLast Updated\n\n\n\n\n\nCreate GitHub Issue\nCreate a new data processing issue for the latest trip, and add it to the Longline Acoustic Monitoring GitHub Project.\nNavigate to the llamp repository’s New Issue page and press the green Get Started button for the Data processing template\nUpdate the issue name to match this trip number, add assignees, and add to the Longline Acoustic Monitoring Project\n\n\n\n\nFigure 1: Screenshot showing the new issue chooser with just the Post-processing template shown. Select the ‘Data processing template’\n\n\n\nBack to top\nDetailed data processing steps\nUpdate metadata\nFill in relevant deployment info on LLHARP Data Summary\nInfo to be filled out:\nFrame and Datalogger numbers, versions, settings, dates from the check sheets\nTDR number\ny/n for upload of datasheets\nAny set-up/off-load problems\nBack to top\nImage HRP\nImage Longline HARP Data (create .hrp file from SD card).This is a several-hours long process, and should be completed locally on an external HD\nConnect both the SD card, and the hard drive that you are copying the data to\nThe SD card will show up as an unformatted drive. Do NOT format it\n\nOpen MATLAB and run dd.exe --list as a command line command to list all of the attached disks\nA copy of dd.exe can be found on Google Drive at ‘LLHARP MASTER/Data Management Docs/LLHARP_processing_code_2020/dd-0.5/’\nExample:\n!C:\\Users\\Ann.Allen\\Documents\\MATLAB\\SIOHARPData_processing_codes_20170403\\dd-0.5\\dd.exe --list\nNote the HarddiskVolume# for the SD card. If it is not obvious which one the SD card is, disconnect the card, re-run --list, and then reconnect and look for the newly added Harddisk and Partition\n\n\n\n\nFigure 2: Screenshot showing output for listing the partitions\n\n\n\nCreate .hrp file\nEnter if=, of=, and bs= commands to start imaging, where\nThe first path is the local path where you have dd.exe stored\nif= is the path of the SD card from the last step\nof= is the drive path for where you want to save the .hrp file and what you want to name it\nThe .hrp file naming will follow the convention: dataID_TwoLetterBoatAbbreviation_FourLetterFrameNumber_FourLetterDataLoggerNumber.hrp\n\nbs=1M\n\nExample:\n!C:\\Users\\Ann.Allen\\Documents\\MATLAB\\SIOHARPData_processing_codes_20170403\\dd\\dd.exe if=\\\\?\\Device\\HarddiskVolume34 of=DRIVE:\\LL008\\LL008_KM_FR03_DL73.hrp bs=1M\nThis will create one large .hrp file that can then be converted into multiple separate xwav files in Triton (see below ‘Process HRP tasks’)\nThe .hrp file takes several hours to offload. There will not necessarily be any indication that the process is working besides a continual ‘Busy’\nmessage in MATLAB and the size of the .hrp file being generated will not necessarily increase while the process is working\nWhen processing is finished your screen should look similar to Figure 3 below\n\n\n\n\n\nFigure 3: Screenshot showing what the imaging process should look like after running the dd.exe\n\n\n\nBack to top\nProcess HRP - 2020 processing code\nCreate Parameter File\nThis is a .txt file with deployment information\nThe naming convention follows the .hrp file (e.g., ’LL0##_XX_FR##_DL##.txt’ where XX is the two letter vessel abbreviation) but with ‘.txt’ as the extension\nIt is easiest to (a) copy the file from a previous deployment and rename according to same convention as the .hrp file or (b) copy the block of text below into a new blank text file, then update accordingly:\nExperiment Name (8 chars) = Data ID based on trip # & vessel ID (ex. ‘LL001_KM’)\nSite Name (4 characters) = Frame number (ex. FR03)\nInstrument ID (4 characters) = Datalogger ID (ex. DL73)\nLatitude, Longitude and Depth do not need to be added\n\nSave the updated file to the same folder as the .hrp file\n\n\n\n\nMATLAB Setup\nMake sure that the folder ‘LLHARP_processing_code_2020’ is in a local directory and on the MATLAB path\nIf you have any other Triton folder on your MATLAB path, make sure that this folder is higher in the directory\nIf there are new versions of the firmware on the LLHARP you will need to get a new version of ‘ckFirmware.m’ and ‘table_ckFirmware.csv’\nRun Triton by typing triton in the MATLAB command window\nIf it is not already installed, add the ‘HRP’ Remora to Triton\n\n\nProcess the .hrp file\nProcess using the HRP Remora\nRemoras > HRP File > Convert HRP File to XWAV files\nSelect ‘.hrp file’\nSelect the parameter file that you created (It has a .txt extension so you will need to select ‘view all files’ in the GUI)\nSelect the output folder for the XWAVs\nIf there are no errors the MATLAB output will look like:\n\n\n\n\n\nFigure 4: Screenshot showing output as it should be if there are no errors while processing the HRP to xwavs\n\n\n\nMake the LTSA\nWithin Triton select ‘Tools > Make LTSA from Directory of Files’\nEnter file type: 2 (XWAV)\nSelect directory with XWAV files\nSet Long-term spectrogram parameters:\ntime average length (seconds): 5\nFrequency bin size (Hz): 100\n\nLTSA should be named to include the trip ID, instrument ID and LTSA info\nExample: ‘LL008_FR04_5s_100Hz.ltsa’\n\n\nThis process will take several hours\n\nBack to top\nProcess HRP - 2022 processing code\nBackground details\nStarting with LL065, SF trying to process the LLHARP with the latest processing code from SIO. SF initially received this version via email from A. Allen/E O’Neill and it was placed in a private GitHub repo harp-processing-sio-2022. The 2020 processing code originally was on Google Drive (still there here) but SF also made that into a GitHub repository in case any changes have to be made to it, so it is now under version control: longline-processing-2020\nSet up the processing machine\nDepending on where the processing is happening, different machines may have different saved MATLAB paths that point to different versions of Triton which can lead to issues. Start by properly setting up the correct MATLAB paths.\nFirst, set Matlab path to the default\nGo to Set Path in top ribbon menus (in the HOME tab)\nSelect Default, and say Yes when prompted to confirm\nPress Save to save the settings and then Close to exit the Set Path window\n\nSecond, set Matlab path to the harp-processing-2022 repository\nGo to Set Path in top ribbon menu (in the HOME tab)\nSelect Add with Subfolders… and navigate to the correct local copy of the repository on this machine and press Select Folder\nOn the virtual machine PICV023, this location is \\\\PICKINGFISH\\USERS\\selene.fregosi\\CodeForVMs\\harp-processing-sio-2022\n\nA bunch of paths will now be listed at the top of the list, highlighted in blue\nPress Save and Close to set the path\n\nAfter setting the paths, run Triton and add the HRP Remora\n- Run Triton by typing triton in the MATLAB Command Window\n- The text that populates the Command Window should say the below version information if the correct path/Triton version are set:\n   \n         Triton version 1.94.20220401\n \nClearing all windows to begin Triton\nThe three Triton windows will open and the correct version (1.94.20220401) should also be displayed in the Plot - Triton window with the logo\nIf this is the first time processing has been run on this machine, the HRPproc Remora will have to be added\nIn the Control- Triton window, select Remoras > Add Remora\nNavigate to the ‘triton.194.20220401/Remoras’ folder, highlight the ‘HARPproc_220401’ folder, and ‘Select Folder’\nNB: I do not know what the difference between ‘HARPproc_220401’ and ‘HARPproc_220401_X2’ is\nSelect ‘Yes’ when prompted to restart Triton\nIf the Remora was properly added, then it will now be visible in the Remoras drop down menu in the Control - Triton window\n\nHRPproc menu options\nHRP File Tools\nDisk Header: Provides disk header information for a select HRP file and prints it into the Message - Triton folder. Example output:\nfiletype 1: USB file\n \nSector 0: \nDisk Type = HARP\nDisk Number = 2\n \nSector 2: \nFirst Directory Location [Sectors] = 8\nCurrent Directory Location [Sectors] = 226\n \nFirst File Location [Sectors] = 539\nNext File Location [Sectors] = 104816111\n \nMax Number of Files = 8326\nNext File = 3491\n \nSample rate = 200000\nDisk Number = 2\nFirmware Version = V2.34\nDescription = No Decsription entered\nDisk Size [Sectors] = 249737216\nDirectory List: Lists all raw files ona selected HRP. List is printed directly into the MATLAB Command Window and contains 12 columns. The columns are: raw file number, ??, 2 digit year, month, day, hour, min, sec, millisecond, sample rate, ??, ??, ??.\nExample output:\n\n   1        539         22          8         27          0          8         11        520     200000      30000   15360000          0\n   2      30539         22          8         27          0          8          4        600     200000      30000   15360000          0\n   3      60539         22          8         27          0          7         57        680     200000      30000   15360000          0\n   4      90539         22          8         27          0          7         50        760     200000      30000   15360000          0\n   5     120539         22          8         27          0          7         43        840     200000      30000   15360000          0\n   6     150539         22          8         27          0          8         58        840     200000      30000   15360000          0\n\n...\n\n3486  104631743         22          9          4         13         24         16          0     200000      30000   15360000          0\n3487  104661743         22          9          4         13         25         31          0     200000      30000   15360000          0\n3488  104691743         22          9          4         13         26         46          0     200000      30115   15418880          0\n3489  104721858         22          9          4         13         28          1          0     200000      30004   15362048          0\n3490  104751862         22          9          4         13         29         16          0     200000      30240   15482880          0\n3491  104782102         22          9          4         13         30         31          0     200000      34009   17412608          0\n\nProcessing Tools\nHRP to XWAV: Select this menu option to convert a single HRP to its individual xwavs.\nWill open new window and prompt to ‘Load HRP Processing Parameters’. Previously this information was read in from a text file but in this case it will load a previously created/saved .mat file.\nFor the first time processing a HRP, select No\nFrom what I can tell in the code, Yes would allow you to load a previously created/saved .mat file, but see below, Save doesn’t seem to work\nYes; resume processing doesn’t look like it loads any parameters, so must just use what is currently loaded/set\n\nNew GUI window will open. Set decimation factor (DF) to 1 and hit OK\nNext window prompts to Browse for xwav output folder. save within the folder for each FR##_DL## for this trip. After selecting folder, hit Continue\nNew window allows additional options to be selected. Not sure what these do yet…\nSave params button throws an error in hrp2xwav_paramC.m\nTHINK this is fixed with this commit\n\nContinue does work\n\nSelect the HRP to be processed in the next pop up window\nEither load or specify the trip details in the next GUI\nTo just load a .txt hdr file as built above, just type Y in first entry and hit OK and you will be prompted to select the appropriate file\nOtherwise, specify the values in each entry line and hit OK\nIf any inputs are the wrong size or format, a warning box will appear and you will be able to re-enter or re-select the appropriate .txt file\n\nIt will then prompt to again save the parameters and suggest a particular folder within the data folder\nIn the future, might make sense to save an earlier version of the more simple parameters in a higher level folder (e.g., the decimation factor, etc) and call that for LLHARPs in general, than save specific ones for each trip and frame that has the full paths mapped. Need to look into this more\n\nXWAV to LTSA:\nHRP Debug Tools\nThese are all ‘greyed’ out\nCheck Directory List Times\nPlot Sector Times\nFix Directory List Times\nBack to top\nUpload data\nput copy of HRP and xwavs on server\nsave copy of HRP on physical drive (and note this somewhere…)\nput in-air recordings on server\nBack to top\nPrevious/existing documentation\nLLHARP Part II - Data Processing\nGoogle Doc 9 August 2022\nBack to top\nLast Updated\n 08 February 2023\n\n\n\n",
      "last_modified": "2023-02-08T00:42:14+00:00"
    },
    {
      "path": "reporting.html",
      "title": "Protocol - Reporting",
      "description": "Details on reporting steps to be completed after analysis\n",
      "author": [],
      "contents": "\n\nContents\nLast Updated\n\nThis protocol is very much a work in progress \nFor now, all reporting is done manually following a powerpoint template that lives locally on Selene’s computer. BUT…she has dreams of automating this with RMD!\nSome notes from local word docs:\nPlot TDR and spatial data for reporting\nLast Updated\n 08 February 2023\n\n\n\n",
      "last_modified": "2023-02-08T00:42:15+00:00"
    },
    {
      "path": "summary.html",
      "title": "Project Summary",
      "description": "High level summary of this projects past and ongoing efforts and outcomes\n",
      "author": [],
      "contents": "\n\nContents\nPhase I\nPhase II\nPhase III - Multiple Recorders\nLast Updated\n\nSummary docs quick links\nLLHARP Data Summary Google Sheet\nPhase I\nCharters with multiple recorders\nThis initial phase of the project developed the recorder technology and worked with a chartered fishing vessel to fine-tune the equipment and monitor several fishing trips with up to five recorders on each fishing set.\nMajor outcome:Bayless et al. 2017 which quantifies how often, and during what part of the fishing set interactions happen.\n\n\n\n\nFigure 1: Tables 1 and 2 from Bayless et al. 2017\n\n\n\nBack to top\nPhase II\nSingle recorders\nFollowing several initial chartered trips, we worked with volunteer fishing vessels to take out a single recorder on trips in which those vessels had observer coverage. Through this phase we had a total of 59 fishing trips with recorders deployed.\nA manuscript is currently in prep by Simonis et al. that expands on Bayless et al. 2017 and includes results from these single-recorder trips as well as the charter trips. It provides an automated detection and classification system for identifying false killer whales from LLHARP recordings and describes a particular noise of interest that is correlated with increased false killer whale detections in detail.\n\n\n\nBack to top\nPhase III - Multiple Recorders\n More to come here!\nThis most recent phase of the project was launched in early 2021 and renewed efforts to deploy multiple recorders across the gear within a single fishing set. We continue to work with volunteer vessels to take out up to four recorders on trips where they have observer coverage. We are working to better understand what exactly is generating the specific noise of interest identified in Phase II, and potential mitigation methods. This effort includes two new aspects: (1) working with collaborators at Scripps Institution of Oceanography to model sound propagation around these fishing vessels and (2) taking in-air sound samples of two pieces of equipment on each vessel during different periods in the haul to see if we can pinpoint the source of noise.\nBack to top\nLast Updated\n 08 February 2023\n\n\n\n",
      "last_modified": "2023-02-08T00:42:16+00:00"
    }
  ],
  "collections": []
}
